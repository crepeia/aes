<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:w="http://xmlns.jcp.org/jsf/composite/ezcomp"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <f:view locale="#{languageController.locale}">
        <h:head>
            <title>#{messages['cadastrar.nova.conta.title.1']}</title>
            <w:head_comum />
            <!-- Facebook Pixel Code to track our adverts -->
            <h:outputScript>
                !function (f, b, e, v, n, t, s) {
                if (f.fbq)
                return;
                n = f.fbq = function () {
                n.callMethod ?
                n.callMethod.apply(n, arguments) : n.queue.push(arguments)
                };
                if (!f._fbq)
                f._fbq = n;
                n.push = n;
                n.loaded = !0;
                n.version = '2.0';
                n.queue = [];
                t = b.createElement(e);
                t.async = !0;
                t.src = v;
                s = b.getElementsByTagName(e)[0];
                s.parentNode.insertBefore(t, s)
                }(window,
                document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');

                fbq('init', '597384437104437');
                fbq('track', "CompleteRegistration");</h:outputScript>            
            <noscript><![CDATA[<img height="1" width="1" style="display:none"
                                    src="https://www.facebook.com/tr?id=597384437104437&ev=PageView&noscript=1"
                                    />
                ]]></noscript>


            <!-- End Facebook Pixel Code -->
            <!-- header -->    
                
            <w:header logoutRequired="true"/>
            <w:topmenu />
        </h:head>

        <h:body>    
            <div id="corpo"> 
                
                <!--mainmenu-->         	
                <div class="main">

                    <div class="pagecontent">

                        <div id="maintop">
                            <div class="media">
                                <div class="media-body">
                                    <h3>#{messages['cadastrar.nova.conta.h3.1']}</h3>                                         
                                    <p>#{messages['cadastrar.nova.conta.p.1']}</p>
                                    <h2>#{messages['cadastrar.nova.conta.h1']}</h2>
                                    <div id="signupsubmit">			                                            
                                        <h:button class="btn btn-info" id="loginBtn" value="#{messages['signin']}"  outcome="login.xhtml"/>
                                    </div>
                                </div>
                                <!--
                                <div class="fotoframe">                            
                                    <h:graphicImage library="default" id="tempo" title="Tempo" name="images/min.png" alt="Gratuito" />
                                </div> 
                                -->
                            </div>
                               
                            
                                    
                        </div>
                        <div class="callout callout-default bd-callout-warning">
                            <h4>#{messages['cadastrar.nova.conta.h3.3']}</h4>
                            <p>#{messages['cadastrar.nova.conta.p.2']}</p>
                            </div>

                                <div class="signupcenter">
                                    
                                    <div id="signupright">
                                    <div id="signup">
                                        <h1>#{messages['naccount.register']}</h1>
                                        <h:form id="form" class="form-signup">
                                            <p:ajaxStatus onstart="statusDialog.show()" onsuccess="statusDialog.hide()" />
                                            <p:dialog widgetVar="statusDialog" modal="true" draggable="false" closable="false" resizable="false" showHeader="false">
                                                <p:graphicImage library="default" name="images/loading.gif" />
                                            </p:dialog>
                                            <div class="signuptext"><input type="hidden" name="cx" value="000901674862427730485:_xhsedehfns"/></div>
                                            <div class="signuptext"><input type="hidden" name="ie" value="UTF-8" /></div>
                                            <div class="signuptext form-group row">
                                                <label for="nameTxt" class="col-sm-2 col-form-label">#{messages['naccount.name']}</label>
                                                <p:inputText styleClass="col-sm-10 form-control" id="nameTxt" value="#{userController.user.name}" required="true" size="30" label="#{messages['naccount.name']}" >

                                                    <f:validateLength maximum="100" />
                                                </p:inputText>
                                                <p:watermark for="nameTxt" value="#{messages['naccount.fullname']}" />
                                                <p:message for="nameTxt" />
                                            </div>
                                            <div class="signuptext form-group row">
                                                <label for="emailTxt" class="col-sm-2 col-form-label">#{messages['email']}</label>
                                                <p:inputText styleClass="col-sm-10 form-control" id="emailTxt" value="#{userController.user.email}" required="true" size="30" label="#{messages['email']}" validatorMessage="#{messages['naccount.invalidemail']}"  >
                                                    <!--<p:ajax update="loginMsg" event="blur" />-->
                                                    <f:validateLength maximum="50" />
                                                    <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                                </p:inputText>
                                                <p:watermark for="emailTxt" value="#{messages['email']}" />
                                                <p:message for="emailTxt" />
                                            </div>
                                            <div class="signuptext form-group row">
                                                <label for="confirmEmailTxt" class="col-sm-2 col-form-label">#{messages['naccount.rpt.email']}</label>
                                                <p:inputText styleClass="col-sm-10 form-control" id="confirmEmailTxt" value="#{userController.confirmEmail}" required="true" size="30" label="#{messages['email']}" validatorMessage="#{messages['naccount.invalidemail']}" >
                                                    <!--<p:ajax update="loginMsg" event="blur" />-->
                                                    <f:validateLength maximum="50" />
                                                    <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                                </p:inputText>
                                                <p:watermark for="confirmEmailTxt" value="#{messages['naccount.rpt.email']}" />
                                            </div>
                                            <div class="signuptext form-group row">
                                                <label for="passwordTxt" class="col-sm-2 col-form-label">#{messages['psw']}</label>
                                                <p:password styleClass="col-sm-10 form-control" id="passwordTxt" value="#{userController.password}" required="true" match="confirmPasswordTxt" redisplay="true" size="30" label="#{messages['psw']}">  
                                                    <f:validateLength maximum="16" />
                                                    <!--<p:ajax update="passwordMsg" event="blur" />-->
                                                </p:password>
                                                <p:watermark for="passwordTxt" value="#{messages['psw']}" />
                                                <p:message for="passwordTxt" />
                                            </div>
                                            <div class="signuptext form-group row">
                                                <label for="confirmPasswordTxt" class="col-sm-2 col-form-label">#{messages['naccount.rpt.psw']}</label>
                                                <p:password styleClass="col-sm-10 form-control" id="confirmPasswordTxt" value="#{userController.password}" required="true" redisplay="true" label="#{messages['naccount.rpt.psw']}">  
                                                    <f:validateLength maximum="16" />
                                                    <!--<p:ajax update="passwordMsg" event="blur" />-->
                                                </p:password>
                                                <p:watermark for="confirmPasswordTxt" value="#{messages['naccount.rpt.psw']}" />
                                            </div>
                                            <!--<div class="signuptext">
                                                <p:inputMask id="PhoneTxt" value="#" mask="(99) 99999999?9" required="no" size="12" label="#{messages['naccount.phone']}"> 
                                                    <f:validateLength maximum="13" />
                                                </p:inputMask>
                                                <p:watermark for="PhoneTxt" value="#{messages['naccount.fullphone']}" />
                                                <p:message for="PhoneTxt" />
                                            </div>--> 
                                            <div class="signuptext form-group row">
                                                <label for="telTxt" class="col-sm-3 col-form-label">#{messages['telephone.number']}</label>
                                                <p:inputText id="telTxt" styleClass="col-sm-9 form-control" value="#{userController.user.phone}" required="false" size="30" label="#{messages['telephone.number']}"/>
                                                <p:watermark for="telTxt" value="#{messages['naccount.phone']}" />
                                            </div>

                                            <div id="signupbottom">
                                                <p:panelGrid columns="2"  id="allowterm">
                                                    <label for="chk1">#{messages['cadastrar.nova.conta.chk1']}</label>
                                                    
                                                    <h:selectBooleanCheckbox value="#{userController.user.receiveEmails}">
                                                        <f:ajax event="change" execute="@this" render="questao7" />
                                                    </h:selectBooleanCheckbox>
                                                </p:panelGrid>
                                                
                                                <h:panelGrid columns="1"  cellpadding="5" id="questao7">
                                                    
                                                    <h:panelGrid columns="1"  cellpadding="5" id="questao7X" rendered="#{userController.user.receiveEmails}">
                                                        <f:facet name="header">  
                                                            #{messages['tips.frequency.choice']}                                       
                                                        </f:facet>
                                                        <h:selectOneMenu class="custom-select" id="frequency"  value="#{userController.user.tipsFrequency}" style="width:auto"  label="#{messages['tips.frequency.choice']}" required="true" >
                                                            <f:selectItem itemLabel="" itemValue="" />
                                                            <f:selectItem itemLabel="#{messages['tips.frequency.choice.0']}" itemValue="0" />
                                                            <f:selectItem itemLabel="#{messages['tips.frequency.choice.1']}" itemValue="1" />
                                                            <f:selectItem itemLabel="#{messages['tips.frequency.choice.2']}" itemValue="2" />
                                                            <f:selectItem itemLabel="#{messages['tips.frequency.choice.3']}" itemValue="3" />
                                                            <f:selectItem itemLabel="#{messages['tips.frequency.choice.4']}" itemValue="4" />
                                                            <f:selectItem itemLabel="#{messages['tips.frequency.choice.5']}" itemValue="5" />
                                                            <f:selectItem itemLabel="#{messages['tips.frequency.choice.7']}" itemValue="6" />
                                                        </h:selectOneMenu>
                                                    </h:panelGrid>
                                                </h:panelGrid>

                                                <p:message for="frequency" />

                                                <p:panelGrid columns="3" id="consent" >
                                                    <label for="chk2">#{messages['naccount.p.termo']}</label><h:outputLink value="./termo-consentimento.xhtml">#{messages['naccount.already.consent']}</h:outputLink>
                                                    <h:selectBooleanCheckbox value="#{userController.user.authorizeData}"/>
                                                </p:panelGrid>

                                                <div id="signup-terms">
                                                    <p>#{messages['naccount.p.botton']}<h:outputLink value="./termos-de-uso.xhtml"> #{messages['naccount.already.userterms']}</h:outputLink></p>                                            
                                                </div>

                                                <div id="signupsubmit">			                                            
                                                    <div>
                                                        <p:messages id="errorMessage" redisplay="true" globalOnly="true" />
                                                    </div>
                                                    <div id="signupbtn">
                                                        <p:commandButton styleClass="btn btn-info" id="saveBtn" value="#{messages['register']}" update="@form"  actionListener="#{userController.signUp()}"/>

                                                    </div>
                                                </div>
                                            </div>
                                        </h:form>	    		
                                    </div>
                                    </div><!-- end.main left -->
                                </div>
                        
                    </div>
                </div>        
            </div><!-- end.corpo --> 
            <!--Footer -->
            <w:footer />
            <script type="text/javascript">
                PrimeFaces.locales['pt'] = {
                    closeText: 'Fechar',
                    prevText: 'Anterior',
                    nextText: 'Próximo',
                    currentText: 'Começo',
                    monthNames: ['Janeiro', 'Fevereiro', 'Março', 'Abril', 'Maio', 'Junho', 'Julho', 'Agosto', 'Setembro', 'Outubro', 'Novembro', 'Dezembro'],
                    monthNamesShort: ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'],
                    dayNames: ['Domingo', 'Segunda', 'Terça', 'Quarta', 'Quinta', 'Sexta', 'Sábado'],
                    dayNamesShort: ['Dom', 'Seg', 'Ter', 'Qua', 'Qui', 'Sex', 'Sáb'],
                    dayNamesMin: ['D', 'S', 'T', 'Q', 'Q', 'S', 'S'],
                    weekHeader: 'Semana',
                    firstDay: 0,
                    isRTL: false,
                    showMonthAfterYear: false,
                    yearSuffix: '',
                    timeOnlyTitle: 'Só Horas',
                    timeText: 'Tempo',
                    hourText: 'Hora',
                    minuteText: 'Minuto',
                    secondText: 'Segundo',
                    ampm: false,
                    month: 'Mês',
                    week: 'Semana',
                    day: 'Dia',
                    allDayText: 'Todo o Dia'
                };
                PrimeFaces.locales['es'] = {
                    closeText: 'Cerrar',
                    prevText: 'Anterior',
                    nextText: 'Siguiente',
                    monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
                    monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                    dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
                    dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
                    dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
                    weekHeader: 'Semana',
                    firstDay: 1,
                    isRTL: false,
                    showMonthAfterYear: false,
                    yearSuffix: '',
                    timeOnlyTitle: 'Sólo hora',
                    timeText: 'Tiempo',
                    hourText: 'Hora',
                    minuteText: 'Minuto',
                    secondText: 'Segundo',
                    currentText: 'Fecha actual',
                    ampm: false,
                    month: 'Mes',
                    week: 'Semana',
                    day: 'Día',
                    allDayText: 'Todo el día'
                };
            </script>  
        </h:body>
    </f:view>
</html>


